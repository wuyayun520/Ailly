
//: Declare String Begin

/*: "mf/moment/list" :*/
fileprivate let str_contentText:String = "selected equalmf/mo"
fileprivate let str_messageRequestValue:String = "/listview view name model shared"

/*: "mf/moment/moments" :*/
fileprivate let str_infoValue:[Character] = ["m","f","/","m","o","m","e","n","t","/"]
fileprivate let str_effectContent:String = "MOMENTS"

/*: "mf/moment/like" :*/
fileprivate let str_sizeValue:[Character] = ["m","f","/","m","o","m","e","n","t","/","l"]
fileprivate let str_speakerName:[Character] = ["i","k","e"]

/*: "mf/crush/send" :*/
fileprivate let str_genderName:String = "mf/crushto bottom load observer true"
fileprivate let str_fillValue:[Character] = ["/","s","e","n","d"]

/*: "mf/moment/view" :*/
fileprivate let str_cornerTitle:String = "mf/momview layer clear let image"
fileprivate let str_imageName:[Character] = ["e","n","t","/","v","i","e","w"]

/*: "mf/momentReply/list" :*/
fileprivate let str_enterTitle:[Character] = ["m","f","/","m","o","m","e","n","t","R","e","p","l","y","/","l","i","s","t"]

/*: "mf/momentReply/save" :*/
fileprivate let str_layerText:String = "mf/momvar return"
fileprivate let str_equalTitle:String = "entRelet manager"
fileprivate let str_modelValue:String = "SAVE"

/*: "mf/moment/videoSign" :*/
fileprivate let str_buttonText:String = "mf/mbag show log make"
fileprivate let str_styleValue:String = "t/vifill list cell push view"

/*: "dynamicPic.zip" :*/
fileprivate let str_photoContent:String = "constraint special todynamicP"
fileprivate let str_commentTitle:[Character] = ["i","c",".","z","i","p"]

/*: "pic" :*/
fileprivate let str_labelData:[UInt8] = [0xd3,0xca,0xc0]

private func ifFalse(on num: UInt8) -> UInt8 {
    return num ^ 163
}

/*: "content" :*/
fileprivate let str_selectedData:String = "contdistributionn"
fileprivate let str_emptyTitle:String = "lab"

/*: "mf/moment/save" :*/
fileprivate let str_contentValue:[Character] = ["m","f","/","m","o","m"]
fileprivate let str_upName:String = "error equalent/save"

/*: "Publish Successful, Go to My Dynamics to view" :*/
fileprivate let str_callName:[UInt8] = [0xe3,0xc6,0xd1,0xdf,0xda,0xc0,0xdb,0x93,0xe0,0xc6,0xd0,0xd0,0xd6,0xc0,0xc0,0xd5,0xc6,0xdf,0x9f,0x93,0xf4,0xdc,0x93,0xc7,0xdc,0x93,0xfe,0xca,0x93,0xf7,0xca,0xdd,0xd2,0xde,0xda,0xd0,0xc0,0x93,0xc7,0xdc,0x93,0xc5,0xda,0xd6,0xc4]

private func dominoMake(user num: UInt8) -> UInt8 {
    return num ^ 179
}

/*: "mf/moment/saveVideo" :*/
fileprivate let str_bottomListData:String = "with appmf/"
fileprivate let str_pushName:String = "layerolayere"
fileprivate let str_labData:String = "veVideomode let view temp"

/*: .png" :*/
fileprivate let str_liveCanText:String = ".pngright normal wrap block pic"

/*: "dynamicPic" :*/
fileprivate let str_listValue:String = "dynamarea"

/*: "freeImage" :*/
fileprivate let str_videoValue:[Character] = ["f","r","e","e","I","m","a","g","e"]

/*: "mf/momentReply/replylist" :*/
fileprivate let str_viewText:[Character] = ["m","f","/","m","o","m","e","n","t","R","e","p","l","y"]
fileprivate let str_addSizeLabName:String = "/repshot false self super"

/*: "mf/moment/delete" :*/
fileprivate let str_marginOfData:String = "mf/moview error time self self"
fileprivate let str_videoTitle:String = "DELE"
fileprivate let str_playerTitle:String = "savee"

/*: "mf/momentReply/delete" :*/
fileprivate let str_ofTitle:[Character] = ["m","f","/","m","o","m","e","n","t","R","e","p","l","y","/"]
fileprivate let str_valueName:String = "dviewete"

/*: "mf/moment/pin" :*/
fileprivate let str_giftName:[Character] = ["m","f","/","m","o","m","e","n","t","/","p","i","n"]

/*: "mf/moment/remindNum" :*/
fileprivate let str_presentStyleContent:[Character] = ["m","f","/","m","o","m","e"]
fileprivate let str_cameraData:String = "ndisk"
fileprivate let str_upPriceSharedName:String = "lab fatal any size right/remi"

/*: "mf/moment/remindList" :*/
fileprivate let str_titleStyleText:[Character] = ["m","f","/","m","o","m","e","n","t","/","r","e","m","i","n","d","L","i"]
fileprivate let str_toValue:[Character] = ["s","t"]

/*: "page" :*/
fileprivate let str_makeName:[UInt8] = [0xd8,0xc9,0xcf,0xcd]

/*: "cos/getCredential" :*/
fileprivate let str_successName:[Character] = ["c","o","s","/","g","e","t"]
fileprivate let str_pinManagerErrorValue:String = "Crview effect false"
fileprivate let str_appName:[Character] = ["e","d","e","n","t","i","a","l"]

/*: "type" :*/
fileprivate let str_giftDatePairName:[Character] = ["t","y","p","e"]

/*: "user/reportUserInfo" :*/
fileprivate let str_minValue:String = "equalser"
fileprivate let str_fromValue:String = "app colortUse"
fileprivate let str_canData:String = "top for stringrInfo"

/*: "uid" :*/
fileprivate let str_phoneValue:String = "picid"

/*: "deviceId" :*/
fileprivate let str_buttonAddValue:String = "dmodelvi"

/*: "deviceName" :*/
fileprivate let str_pushContent:String = "deimagei"

/*: "iphone" :*/
fileprivate let str_withValue:[Character] = ["i","p","h","o","n","e"]

/*: "fileUrl" :*/
fileprivate let str_timeName:String = "head height estimatedfileUrl"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  StreetSmartReactiveCompatible.swift
//  AbroadTalking
//
//  Created by Charlotte on 2022/9/19.
//

//: import UIKit
import UIKit

//: import Adjust
import Adjust

//: class TalkingMomentRequestTool: NSObject {
class StreetSmartReactiveCompatible: NSObject {
    //: let _fm = FileManager.default
    let _fm = FileManager.default

    /// 动态列表接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func statuteTitleCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/list"
        reqModel.requestPath = (String(str_contentText.suffix(5)) + "ment" + String(str_messageRequestValue.prefix(5)))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 用户动态接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_UserMomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func changeForm(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/moments"
        reqModel.requestPath = (String(str_infoValue) + str_effectContent.lowercased())
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 点赞
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentLike(params: [String: Any], completion: @escaping FinishBlock) {
    class func prod(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/like"
        reqModel.requestPath = (String(str_sizeValue) + String(str_speakerName))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 谁心动我 - 发送心动
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CrushSend(params: [String: Any], completion: @escaping FinishBlock) {
    class func params(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/crush/send"
        reqModel.requestPath = (String(str_genderName.prefix(8)) + String(str_fillValue))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态详情
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentDetail(params: [String: Any], completion: @escaping FinishBlock) {
    class func jumpColor(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/view"
        reqModel.requestPath = (String(str_cornerTitle.prefix(6)) + String(str_imageName))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func postingGift(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/momentReply/list"
        reqModel.requestPath = (String(str_enterTitle))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 发表评论、回复
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_SendComment(params: [String: Any], completion: @escaping FinishBlock) {
    class func sendToCompletionUp(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/momentReply/save"
        reqModel.requestPath = (String(str_layerText.prefix(6)) + String(str_equalTitle.prefix(5)) + "ply/" + str_modelValue.lowercased())
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取视频上传sign
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_VideoSign(params: [String: Any], completion: @escaping FinishBlock) {
    class func topResumeFront(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/videoSign"
        reqModel.requestPath = (String(str_buttonText.prefix(4)) + "omen" + String(str_styleValue.prefix(4)) + "deoSign")
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - photos: 图片
    ///   - content: 内容
    ///   - completion: 回调
    //: func releasePhotosMoment(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
    func openCompletion(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
        // 处理图片
        //: deleteFile()
        firstTitle()
        //: for (index, photo) in photos.enumerated() {
        for (index, photo) in photos.enumerated() {
            //: getImagePath(index: index, image: photo)
            specialSession(index: index, image: photo)
        }
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let doc_path = (documentDictPath as NSString).appendingPathComponent("dynamicPic.zip")
        let doc_path = (documentDictPath as NSString).appendingPathComponent((String(str_photoContent.suffix(8)) + String(str_commentTitle)))
        //: SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        //: DispatchQueue.global().async {
        DispatchQueue.global().async {
            //: let data = NSData(contentsOfFile: doc_path)
            let data = NSData(contentsOfFile: doc_path)
            //: DispatchQueue.main.async {
            DispatchQueue.main.async {
                // 发布
                //: var params: [String: Any] = ["pic": data as Any]
                var params: [String: Any] = [String(bytes: str_labelData.map{ifFalse(on: $0)}, encoding: .utf8)!: data as Any]
                //: if content.count > 0 {
                if content.count > 0 {
                    //: params["content"] = content
                    params[(str_selectedData.replacingOccurrences(of: "distribution", with: "e") + str_emptyTitle.replacingOccurrences(of: "lab", with: "t"))] = content
                }
                //: let reqModel = TalkingRequestModel()
                let reqModel = WithTitleThen()
                //: reqModel.requestPath = "mf/moment/save"
                reqModel.requestPath = (String(str_contentValue) + String(str_upName.suffix(8)))
                //: reqModel.requestType = .POST
                reqModel.requestType = .POST
                //: reqModel.params = params
                reqModel.params = params
                //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
                kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
                    //: if succeed {
                    if succeed {
                        //: self.func__showStatusBarSuccessMsg(showMsg: "Publish Successful, Go to My Dynamics to view".localized)
                        self.fileFirst(showMsg: String(bytes: str_callName.map{dominoMake(user: $0)}, encoding: .utf8)!.localized)
                        //: self.deleteFile()
                        self.firstTitle()
                    }
                    //: completion(succeed, result, errorModel)
                    completion(succeed, result, errorModel)
                }
            }
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - completion: 回调
    //: class func releaseVideoMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func bring(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/saveVideo"
        reqModel.requestPath = (String(str_bottomListData.suffix(3)) + str_pushName.replacingOccurrences(of: "layer", with: "m") + "nt/sa" + String(str_labData.prefix(7)))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    //: private func getImagePath(index: Int, image: UIImage) {
    private func specialSession(index: Int, image: UIImage) {
        //: let data = image.compressedImageData()
        let data = image.key()
        //: let nameString = "\(index).png"
        let nameString = "\(index)" + (String(str_liveCanText.prefix(4)))
        //: let picPath = (filePath as NSString).appendingPathComponent("dynamicPic")
        let picPath = (filePath as NSString).appendingPathComponent((str_listValue.replacingOccurrences(of: "area", with: "i") + "cPic"))
        //: if !_fm.fileExists(atPath: picPath) {
        if !_fm.fileExists(atPath: picPath) {
            //: try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
            try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
        }
        //: let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        //: _fm.createFile(atPath: imagePath, contents: data)
        _fm.createFile(atPath: imagePath, contents: data)
    }

    //: private func deleteFile() {
    private func firstTitle() {
        //: if _fm.fileExists(atPath: filePath) {
        if _fm.fileExists(atPath: filePath) {
            //: try? _fm.removeItem(atPath: filePath)
            try? _fm.removeItem(atPath: filePath)
        }
    }

    //: private lazy var filePath: String = {
    private lazy var filePath: String = {
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let imagePath = (documentDictPath as NSString).appendingPathComponent("freeImage")
        let imagePath = (documentDictPath as NSString).appendingPathComponent((String(str_videoValue)))
        //: return imagePath
        return imagePath
        //: }()
    }()

    /// 子评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentDetailList(params: [String: Any], completion: @escaping FinishBlock) {
    class func packageCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/momentReply/replylist"
        reqModel.requestPath = (String(str_viewText) + String(str_addSizeLabName.prefix(4)) + "lylist")
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除动态
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func trademark(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/delete"
        reqModel.requestPath = (String(str_marginOfData.prefix(5)) + "ment/" + str_videoTitle.lowercased() + str_playerTitle.replacingOccurrences(of: "save", with: "t"))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除评论
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMomentReply(params: [String: Any], completion: @escaping FinishBlock) {
    class func upCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/momentReply/delete"
        reqModel.requestPath = (String(str_ofTitle) + str_valueName.replacingOccurrences(of: "view", with: "el"))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 置顶操作
    /// - Parameters:
    /// status=1表示置顶，0=取消置顶
    ///   - completion: 回调
    //: class func req_TopMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func portionEqual(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/pin"
        reqModel.requestPath = (String(str_giftName))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取用户未读动态总数
    /// - Parameter completion: 回调
    //: class func req_getRemindNum(completion: @escaping FinishBlock) {
    class func toInfo(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/remindNum"
        reqModel.requestPath = (String(str_presentStyleContent) + str_cameraData.replacingOccurrences(of: "disk", with: "t") + String(str_upPriceSharedName.suffix(5)) + "ndNum")
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取当前未读动态信息列表
    /// - Parameters:
    ///   - page: 分页
    ///   - completion: 回调
    //: class func req_getRemindList(page: Int, completion: @escaping (_ data: [TalkingRemindListModel]) -> Void) {
    class func toPostError(page: Int, completion: @escaping (_ data: [ModelType]) -> Void) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "mf/moment/remindList"
        reqModel.requestPath = (String(str_titleStyleText) + String(str_toValue))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["page": page]
        reqModel.params = [String(bytes: str_makeName.map{$0^168}, encoding: .utf8)!: page]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { _, result, _ in
            //: var dataArr: [TalkingRemindListModel] = []
            var dataArr: [ModelType] = []
            //: guard let arr = result as? [[String: Any]] else {
            guard let arr = result as? [[String: Any]] else {
                //: completion(dataArr)
                completion(dataArr)
                //: return
                return
            }
            //: if let datas = Array<TalkingRemindListModel>.deserialize(from: arr as? Array) as? [TalkingRemindListModel] {
            if let datas = Array<ModelType>.deserialize(from: arr as? Array) as? [ModelType] {
                //: dataArr.append(contentsOf: datas)
                dataArr.append(contentsOf: datas)
            }
            //: completion(dataArr)
            completion(dataArr)
        }
    }

    /// COS  视频存储
    /// - Parameters:
    ///   - type: 1=动态，2=视频封面，3=私信视频
    ///   - completion: 回调
    //: class func req_getCredential(type: Int, completion: @escaping FinishBlock) {
    class func atQueryed(type: Int, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestPath = "cos/getCredential"
        reqModel.requestPath = (String(str_successName) + String(str_pinManagerErrorValue.prefix(2)) + String(str_appName))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["type": type]
        reqModel.params = [(String(str_giftDatePairName)): type]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 上传cos日志存储路径
    /// - Parameters:
    ///   - fileUrl: 日志路径
    ///   - completion: 回调
    //: class func req_uploadLogPath(fileUrl: String, completion: @escaping FinishBlock) {
    class func roomTo(fileUrl: String, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = WithTitleThen()
        //: reqModel.requestServer = EqualThen.share.appConfigMode.reportDomain
        reqModel.requestServer = EqualThen.share.appConfigMode.reportDomain
        //: reqModel.requestPath = "user/reportUserInfo"
        reqModel.requestPath = (str_minValue.replacingOccurrences(of: "equal", with: "u") + "/repor" + String(str_fromValue.suffix(4)) + String(str_canData.suffix(5)))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: var params = [String: Any]()
        var params = [String: Any]()
        //: params["uid"] = EqualThen.share.loginUserMode.userID
        params[(str_phoneValue.replacingOccurrences(of: "pic", with: "u"))] = EqualThen.share.loginUserMode.userID
        //: params["deviceId"] = Adjust.adid() ?? ""
        params[(str_buttonAddValue.replacingOccurrences(of: "model", with: "e") + "ceId")] = Adjust.adid() ?? ""
        //: params["deviceName"] = "iphone"
        params[(str_pushContent.replacingOccurrences(of: "image", with: "v") + "ceName")] = (String(str_withValue))
        //: params["type"] = 1
        params[(String(str_giftDatePairName))] = 1
        //: params["fileUrl"] = fileUrl
        params[(String(str_timeName.suffix(7)))] = fileUrl
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_nextTitle.photoLive(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }
}
